Project Roam
=============

#### Official game page:  http://kenbellows.github.io/project-roam



## Directives<a id="directives"></a>

Roam is a minimal-interface, RPG-esque adventure game based on two ideas that serve as guiding principles. I refer to them as the Directives. The ideas are simple, but they have very large implications for the nature of the game.

**Randomize everything.**  
**Forget nothing.**

Here's what I mean:

  1. **Randomize everything** - As many elements of the gameplay as possible should be randomized, from characters to species to landscapes to quests to goals. This means that every game is unique. Every playthrough is heavily autogenerated for completely new storylines, characters, and worlds every time you play.
  
  2. **Forget Nothing** - Every single thing you do in the game will be remembered by any game element around to be affected by it. If you punch someone in a bar, everyone in the room will react. Their opinion of you will change, for the better if the guy was being a douche and for the worse if he was a friendly gentleman. The idea is to simulste as much realism in your character's relationship to his world.


## Details


### Definitions

Throughout this document, the following terms will be used:

-  The player: the “main character”, i.e. the character being controlled by the person using the game.

-  NPC: Non-player character. This is a character controlled by the decision engine rather than the person using the game.

-  Character: generically refers to either the player or an NPC. This is used when the sentence can apply to either.

-  Scene: A scene is analogous to the old text-adventure game locations or rooms. It’s a segment of a road or hallway, or a room in a building, etc.


### Requirements

1. As many game elements as possible must be autogenerated. Some things:

  1. Map (if there is one), or perhaps paths available to player

  2. Characters

    1. Personality traits

    2. Actions

    3. Background, e.g. tragedies, successes, etc. (Maybe encapsulated in personality)

  3. Items encountered

  4. Events

2. The game must have a specific set of endpoints, or specific criteria for an end condition, e.g. a main quest developed when the game is generated or perhaps a somewhat more vague end goal (e.g. attain wealth, etc.). And of course, the game ends if/when the main character dies.

3. There must be a very high degree of free will. A huge number of action keywords must be available, many aliasing to the same core set of actions to allow more free typing, so to speak.


### Decision Engine

The decision engine in this game is going to be massive, and massively important. Decisions include (but are not limited to):  
  * How an NPC interacts with the player and reacts to events
  * How the world reacts to and changes based on the player’s actions, etc.
  * What objects or players are affected  by actions. Each action undertaken by a character should have the potential to affect every other character in the scene, based on proximity, range of action outcome, etc.


### Non-Player Characters (NPCs)

- Personality traits and/or personal history affect actions. If a bad guy rolls into town and pulls a gun, an NPC with a high amount of, e.g., valor, ballsiness, or anger, or perhaps a personal history of guys with guns killing people he loves, may attack the guy, while an NPC with low valor and high timidity, e.g., may hide in the corner.
  Possible personality trait categories:
  - Goodness: are they out to help the world, their neighbors, and those they meet, or hurt them?
  - Priorities: predefined list of goals put in order of value to NPC, such as others, self, general wellbeing, money, fun, adventure, etc. These may affect how they negotiate in a trade, what information they offer, whether they come with you on a dangerous quest, etc. based on what is most important to them. An NPC who values adventure over personal wellbeing would be more likely to come on a dangerous quest. These items should have values tied to them. e.g., given 2 NPCs for whom personal well being has a priority of 7, if one of them gives adventure and/or wealth a priority of 12 but the other only gives these a priority of 8, the former would be willing to go on more dangerous quests than the latter, but the promise of larger rewards may sway even the latter to go on more dangerous quests.
    - Friendliness/Crankiness: are they easily irritable, and therefore less likely to want to talk with a stranger, or are they friendly and chatty?
    - Trustingness: how likely are they to trust you implicitly? Might they ask you to prove yourself before they give you certain information?
    - Prejudice: Given an NPC of a different race, gender, etc, are they racist, sexist, etc? This could be a key/value list with values for each category of prejudice defined in the game.
- NPCs should each have an opinion of the player based on interactions. Everything should matter. For example, if the player says something to a barrel sitting nearby or speaks to no one in particular, the NPCs nearby should think of him as a weirdo be be more apprehensive when the player interacts with them later.
  Here are some possible opinions affecting NPC interactions. An NPC might think the player is:
  - Weird/normal
  - Nice/a jerk
  - Suspicious/trustworthy
  - Relatable/foreign (tied to NPC’s prejudices)
- There needs to be a global game list of NPCs that the player has interacted with, maintaining a list of each character’s current feelings toward the player and each character’s feelings towards other characters.
- Certain NPCs should be created with predefined past relationships to other characters, who will then be created elsewhere on the map.


### Actions

The following is a short list of possible actions exposed to the player.

* inspect/look [at] [{x}]  
  Look at anything in the current scene. If no {x} is specified, the scene itself will be used as {x}. Describe items, note what NPCs are doing, list exits, etc. Certain keywords may have special meanings, e.g. “look exits”, “look up”, etc.

* say {x} [to {y}] [{adverb modifier}]  
  Character says something out loud, optionally to an NPC/object nearby (or not nearby, in which case they’ll be seen as odd), optionally with an adverb modifier.  
  {y} can be a volume indicator, e.g. loudly, quietly, [in a] whisper, etc. These will change what nearby characters are affected by the statement. For example: loudly implies that everyone in the scene can hear it. quietly indicates that the player wants to avoid anyone other than {y} hearing {x}. No volume adverb means that only NPCs that are actively trying to hear or paying attention will hear.  
  Perhaps {y} can be an attitude modifier, e.g. harshly, soothingly, angrily, etc. Maybe {y} can be a list of modifiers. If they conflict, the last one will be used.  
  Perhaps {y} can be a list of adverbs. In this case, for example, one could use the command:  
  
  ```
    say Where’s my money? quietly angrily
  ```
  
  This would parse both the quietly modifier and the angrily modifier.  
  Maybe the decision engine should try to parse {x} to look for a specific set of keywords. It would be fun to implement a simplistic NLP parser, but very difficult. Maybe certain sentence structures and vocabulary should be recognized, with a fuzzy match algorithm to fit a given {x} to a known pattern. If the fuzzy difference from a known pattern is too great, the game or the NPC that the player is talking to (or maybe someone nearby if the player isn’t talking to anyone at the moment) should report something to the effect of, “I didn’t understand that. Could you rephrase?”  
  If the player is actively engaged in a conversation, {y} should be assumed to be the other party in the conversation if it is omitted.  

* hide [{x} [behind/in/under {y}]  
  Hide from sight. If an {x} is specified and recognized, the character will attempt to place the object behind/in/under {y}. If a {y} is not specified, the most suitable object nearby will be chosen as the {y}. “Suitable” should deal primarily with size and opacity.

* search [{x}]  
  If no {x} is specified, {x} is assumed to be the scene. The message “Searching {scene name}” will be displayed. The player will search dark corners, behind certain things, under certain things, but will not move or open anything. If an {x} is specified, it will be searched. If it is a container, it will be opened. If it is a piece of furniture with drawers or doors, e.g. a desk, cabinet, or wardrobe, all orifices will be opened unless locked. If {x} is an NPC, the NPC will react accordingly, based on restraints, opinion of the player, etc.

* pick up/take [{x}]  
  If an {x} is specified, the character will try to take the item and add to inventory. If no object was specified, but an object was just inspected, this object will be used as {x}.

* throw [{x}] [at/to {y}]  
  An {x} must be specified unless the player is already holding an object. If no {y} is specified, the player will throw the object randomly, as though without looking, and the decision engine will decide who or what, if anyone/thing, it hits. 
  If a {y} is specified, the verb used will change what happens.  
  - If the word “at” was used, the {x} will be thrown at {y} aggressively, as an attack.  
  - If the word “to” was used, the player will toss the object non-aggressively to {y}, in order that {y} might catch it.  
  
  **!! note !!** This distinction between "at" and "to" only really makes sense when {y} is an NPC, and as such, when {y} is an object rather than a character, the verb will not change anything.  


### Objects

Physical objects with which a character can interact should be given a set of characteristics related to their suitability for certain tasks and reaction to events.  
Simple examples:
* Barrel
  - heavy and sturdy  
    A character with high strength could throw it at someone with high damage but low accuracy.  
    A character with low strength could perhaps push it or tip it over and roll it.  

  - large and opaque  
    A small to medium sized character could hide behind it well.  
    A large character would have a harder time hiding behind it, but given poor lighting they might still pull it off.  
* Chain-link Fence
  - transparent  
    Impossible to successfully hide behind. Never chosen in an auto-hide (“hide” command with no object; see “Actions” above).  
    A light character with strong legs/a high jumping capability could jump it to escape a heavier character with less jump capability that is chasing them.  


### Scenes

Scenes need to have certain characteristics as well, affecting the outcome of events and actions. These should feel natural. Examples:

* Lighting: It’s easier to hide in a dark room and easier to notice objects in a sunlit outdoor area. As a player enters a scene, they will immediately be presented with any objects immediately visible. If the scene is brightly lit, more things may be immediately apparent, but if it’s a dark, dusty room, they may have to “search” to find some things. (See actions above for details on “search”.)


### Character Records

A player should have a record of each NPC they meet. They should be given the option to take notes about them (with time stopped so they don’t miss anything) and they should be given a mechanism to mark certain common traits.


### Events

The game is event driven. Events will happen as triggered by the player, in reaction to events triggered by the player, and at random intervals in between player actions.

There are two major types of events:
1. Simple happenings: These will be updated to a sidebar with a list of recent events, with the ability to scroll back in time, possibly with logging capability.
2. Important happenings: Theses directly affect the character or scene. A semi-intrusive popup will appear with a countdown within which the player must react, else the event progresses as if the player simply continued doing whatever they were already doing. The popup should not prevent the player from doing anything, but it should be much more obvious and more difficult to ignore than the simple happenings in the sidebar. The important events will still be added to the sidebar, but will be bold, or a different color, or something else to mark them as different from the simple happenings.

